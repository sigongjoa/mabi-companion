<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마비노기 - 생활 스킬 관리</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #111827; /* 다크 테마 배경 */
            color: #d1d5db;
        }
        .sidebar-link.active {
            background-color: #4f46e5;
            color: #ffffff;
            font-weight: 700;
        }
        .skill-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 1.5rem;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="relative min-h-screen flex">
        <!-- 사이드바 네비게이션 -->
        <aside id="sidebar" class="w-64 bg-gray-900 text-white shadow-lg h-screen fixed top-0 left-0 transform transition-transform duration-300 ease-in-out z-30">
            <div class="p-5 border-b border-gray-700 flex items-center space-x-3">
                 <div class="w-10 h-10 rounded-lg bg-indigo-600 flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg>
                 </div>
                 <div>
                    <h2 class="text-lg font-bold">마비노기</h2>
                    <p class="text-xs text-gray-400">제작 계산기</p>
                 </div>
            </div>
            <nav class="mt-4">
                <ul>
                    <li><a href="#" class="sidebar-link flex items-center py-3 px-5 text-gray-300 hover:bg-gray-800 transition-colors">
                        <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" /></svg>
                        아이템
                    </a></li>
                    <li><a href="#" class="sidebar-link flex items-center py-3 px-5 text-gray-300 hover:bg-gray-800 transition-colors">
                        <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h.01M15 12h.01M10.5 16.5h3m-6.38-3.386l-1.591-1.592a2.25 2.25 0 010-3.182l1.591-1.592L9 6.5l1.518-1.518a2.25 2.25 0 013.182 0l1.592 1.591L15 9.5l-1.518 1.518a2.25 2.25 0 01-3.182 0L9 12.5l-1.88-1.88z" /></svg>
                        퀘스트
                    </a></li>
                    <li><a href="#" class="sidebar-link active flex items-center py-3 px-5">
                        <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.31h5.418a.562.562 0 01.321.988l-4.204 3.055a.563.563 0 00-.182.557l1.528 4.97a.562.562 0 01-.82.622l-4.42-3.232a.563.563 0 00-.664 0l-4.42 3.232a.562.562 0 01-.82-.622l1.528-4.97a.563.563 0 00-.182-.557l-4.204-3.055a.562.562 0 01.321-.988h5.418a.563.563 0 00.475-.31L11.48 3.5z" /></svg>
                        생활스킬
                    </a></li>
                    <li><a href="/character-management.html" class="sidebar-link flex items-center py-3 px-5 text-gray-300 hover:bg-gray-800 transition-colors">
                        <svg class="w-6 h-6 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" /></svg>
                        캐릭터 관리
                    </a></li>
                </ul>
            </nav>
        </aside>

        <!-- 메인 콘텐츠 -->
        <main id="main-content" class="flex-1 transition-all duration-300 ease-in-out">
            <header class="bg-gray-900 shadow-sm p-4 flex items-center sticky top-0 z-20">
                <button id="sidebar-toggle-btn" class="p-2 mr-4 text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>
                </button>
                <div class="text-sm text-gray-400"><span>홈</span><span class="mx-1">/</span><span>생활스킬</span></div>
            </header>
            
            <div class="p-4 md:p-8">
                <section>
                    <div class="flex justify-between items-center mb-6">
                         <h2 class="text-2xl font-bold text-white">생활 스킬 레벨 관리</h2>
                         <p class="text-gray-400">스킬 레벨을 조절하여 제작 효율을 계산하세요.</p>
                    </div>
                    <div id="skill-grid" class="skill-grid">
                        <!-- 생활 스킬 카드가 여기에 동적으로 추가됩니다. -->
                    </div>
                </section>
            </div>
        </main>
    </div>

    <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-60 z-20 hidden"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- 데이터 정의 ---
            const lifeSkills = [
                { id: 1, name: '일상 채집', level: 1 },
                { id: 2, name: '나무 베기', level: 1 },
                { id: 3, name: '광석 캐기', level: 2 },
                { id: 4, name: '약초 채집', level: 6 },
                { id: 5, name: '양털 깎기', level: 1 },
                { id: 6, name: '추수', level: 1 },
                { id: 7, name: '호미질', level: 1 },
                { id: 8, name: '곡괭이질', level: 1 },
                { id: 9, name: '낚시', level: 1 },
                { id: 10, name: '대장 기술', level: 1 },
                { id: 11, name: '목공', level: 1 },
                { id: 12, name: '매직 크래프트', level: 1 },
                { id: 13, name: '종합 제작', level: 1 },
                { id: 14, name: '건강 제작', level: 1 },
                { id: 15, name: '천옷 제작', level: 1 },
                { id: 16, name: '물약 조제', level: 1 },
                { id: 17, name: '요리', level: 1 },
                { id: 18, name: '핸디크래프트', level: 1 },
                { id: 19, name: '연금술', level: 1 },
                { id: 20, name: '아르바이트', level: 1 },
            ];

            const skillGrid = document.getElementById('skill-grid');

            function renderSkills() {
                skillGrid.innerHTML = '';
                lifeSkills.forEach(skill => {
                    const skillCard = document.createElement('div');
                    skillCard.className = 'bg-gray-800 rounded-lg p-4 flex flex-col items-center justify-center text-center';
                    
                    // Simple placeholder icon using text
                    const iconPlaceholder = skill.name.charAt(0);
                    
                    skillCard.innerHTML = `
                        <div class="w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mb-3 border-2 border-gray-600">
                            <span class="text-2xl font-bold text-indigo-400">${iconPlaceholder}</span>
                        </div>
                        <p class="font-semibold text-white">${skill.name}</p>
                        <div class="flex items-center justify-center mt-3 w-full">
                           <button data-id="${skill.id}" class="level-change-btn minus-btn bg-gray-700 hover:bg-red-600 rounded-l-md px-3 py-1 text-white font-bold">-</button>
                           <span class="level-display bg-gray-600 px-4 py-1 text-white text-center w-14">Lv. ${skill.level}</span>
                           <button data-id="${skill.id}" class="level-change-btn plus-btn bg-gray-700 hover:bg-green-600 rounded-r-md px-3 py-1 text-white font-bold">+</button>
                        </div>
                    `;
                    skillGrid.appendChild(skillCard);
                });
            }
            
            // --- 이벤트 리스너 ---
            skillGrid.addEventListener('click', (e) => {
                const target = e.target;
                if (!target.matches('.level-change-btn')) return;

                const skillId = parseInt(target.dataset.id);
                const isPlus = target.classList.contains('plus-btn');
                
                const skill = lifeSkills.find(s => s.id === skillId);
                if (!skill) return;

                if (isPlus) {
                    skill.level++;
                } else {
                    if (skill.level > 1) skill.level--;
                }
                
                // 해당 카드만 업데이트
                const levelDisplay = target.parentElement.querySelector('.level-display');
                if (levelDisplay) {
                    levelDisplay.textContent = `Lv. ${skill.level}`;
                }
            });


            // --- 사이드바 및 초기화 ---
            const sidebar = document.getElementById('sidebar'), mainContent = document.getElementById('main-content'),
                  sidebarToggleBtn = document.getElementById('sidebar-toggle-btn'), sidebarOverlay = document.getElementById('sidebar-overlay');
            function applySidebarState(isOpen) {
                 const isDesktop = window.innerWidth >= 768;
                 if (isOpen) {
                    sidebar.classList.remove('-translate-x-full');
                    sidebarOverlay.classList.remove('hidden');
                    if (isDesktop) { mainContent.classList.add('md:ml-64'); sidebarOverlay.classList.add('hidden'); }
                 } else {
                    sidebar.classList.add('-translate-x-full');
                    sidebarOverlay.classList.add('hidden');
                    if (isDesktop) { mainContent.classList.remove('md:ml-64'); }
                 }
            }
            function toggleSidebar() { applySidebarState(!sidebar.classList.contains('-translate-x-full')); }
            function initializeSidebar() { applySidebarState(window.innerWidth >= 768); }
            sidebarToggleBtn.addEventListener('click', toggleSidebar);
            sidebarOverlay.addEventListener('click', toggleSidebar);
            window.addEventListener('resize', initializeSidebar);
            
            initializeSidebar();
            renderSkills();
        });
    </script>
</body>
</html>
